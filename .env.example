# ==========================================
# 旅游环境01 - 商业化本地部署环境变量配置
# ==========================================
# 使用说明:
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 根据实际情况填写下方配置项
# 3. 使用命令启动: docker-compose -f docker-compose.production.yml up -d
# ==========================================

# ==========================================
# 🔐 必填项 - 应用核心配置
# ==========================================

# Rails 密钥 (用于加密 session、cookies 等)
# 生成方式: docker-compose run --rm web bundle exec rails secret
# 或使用: openssl rand -hex 64
SECRET_KEY_BASE=请填写64位随机字符串

# 数据库密码 (强烈建议使用复杂密码)
DB_PASSWORD=请设置强密码

# Redis 密码
REDIS_PASSWORD=请设置强密码

# 应用公开访问地址 (用于生成邮件链接、OAuth 回调等)
# 示例: https://travel.example.com 或 http://localhost:5010
PUBLIC_HOST=http://localhost:5010

# ==========================================
# 📊 数据库配置
# ==========================================

DB_USER=travel01
DB_NAME=travel01_production
DB_PORT=5432

# ==========================================
# 🌐 应用服务端口配置
# ==========================================

# Web 服务端口 (外部访问端口)
WEB_PORT=5010

# Nginx 端口 (如果使用 Nginx)
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# Redis 端口
REDIS_PORT=6379

# ==========================================
# 🚀 性能优化配置
# ==========================================

# Rails 线程数 (建议: 5-10)
RAILS_MAX_THREADS=10

# Puma worker 进程数 (建议: CPU核心数)
WEB_CONCURRENCY=2

# GoodJob 后台任务线程数
GOOD_JOB_MAX_THREADS=5

# GoodJob 轮询间隔 (秒)
GOOD_JOB_POLL_INTERVAL=10

# GoodJob 队列配置 (* 表示所有队列)
GOOD_JOB_QUEUES=*

# ==========================================
# 📧 邮件服务配置 (可选)
# ==========================================
# 用于发送用户注册验证、密码重置等邮件

EMAIL_SMTP_ADDRESS=smtp.example.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USERNAME=your_email@example.com
EMAIL_SMTP_PASSWORD=your_email_password
EMAIL_SMTP_DOMAIN=example.com

# ==========================================
# 🔑 OAuth 社交登录配置 (可选)
# ==========================================

# Google OAuth
GOOGLE_OAUTH_ENABLED=false
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Facebook OAuth
FACEBOOK_OAUTH_ENABLED=false
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=

# Twitter OAuth
TWITTER_OAUTH_ENABLED=false
TWITTER_API_KEY=
TWITTER_API_SECRET=

# GitHub OAuth
GITHUB_OAUTH_ENABLED=false
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ==========================================
# 📦 其他配置
# ==========================================

# 时区设置
TZ=Asia/Shanghai

# 备份目录 (主机路径)
BACKUP_DIR=./backup

# 日志级别 (debug, info, warn, error)
LOG_LEVEL=info
