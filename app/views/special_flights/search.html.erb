<div class="min-h-screen bg-gray-50">
  <!-- Header -->
  <div class="bg-white border-b sticky top-0 z-10">
    <div class="flex items-center gap-3 p-4">
      <%= link_to special_flights_path, class: "flex items-center" do %>
        <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
      <% end %>
      <div class="flex-1">
        <h1 class="font-bold text-lg">特价机票</h1>
        <p class="text-sm text-gray-500">
          <%= @departure_city %> → <%= @destination_cities.join(', ') %>
          <% if @is_fuzzy_date %>
            · <%= @selected_months.length %>个月
          <% else %>
            · <%= @date&.strftime('%m月%d日') %>
          <% end %>
        </p>
      </div>
    </div>
  </div>

  <!-- Special Offers List -->
  <div class="p-4">
    <% if @special_offers.empty? %>
      <div class="bg-white rounded-lg p-8 text-center">
        <div class="text-gray-400 mb-2">
          <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        </div>
        <p class="text-gray-600">暂无特价机票</p>
        <p class="text-sm text-gray-400 mt-1">试试其他城市或日期吧</p>
      </div>
    <% else %>
      <div class="space-y-3">
        <% @special_offers.each do |offer| %>
          <div class="bg-white rounded-lg p-4 shadow-sm">
            <div class="flex justify-between items-start mb-3">
              <div class="flex-1">
                <div class="flex items-center gap-2 mb-1">
                  <span class="font-bold text-lg"><%= @departure_city %></span>
                  <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
                  </svg>
                  <span class="font-bold text-lg"><%= offer[:destination] %></span>
                </div>
                <div class="text-sm text-gray-500">
                  <%= offer[:date].strftime('%m月%d日') %> · <%= offer[:flight].departure_time %> 出发
                </div>
              </div>
              
              <div class="text-right">
                <div class="text-yellow-500 text-xs font-medium mb-1">
                  <%= offer[:discount_label] %>
                </div>
                <div class="text-red-500 font-bold text-xl">
                  ¥<%= offer[:flight].price %>
                </div>
                <% if offer[:flight].discount_price > 0 %>
                  <div class="text-xs text-gray-400 line-through">
                    ¥<%= offer[:flight].discount_price %>
                  </div>
                <% end %>
              </div>
            </div>
            
            <div class="flex items-center justify-between pt-3 border-t">
              <div class="text-sm text-gray-600">
                <%= offer[:flight].airline %> · <%= offer[:flight].flight_number %>
              </div>
              <%= link_to "预订", 
                  new_booking_path(
                    departure_city: @departure_city,
                    arrival_city: offer[:destination],
                    date: offer[:date],
                    flight_id: offer[:flight].id
                  ),
                  class: "btn-primary py-1 px-4 text-sm" %>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
