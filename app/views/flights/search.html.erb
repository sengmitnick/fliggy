<% if @trip_type == 'round_trip' && @return_flights.present? %>
  <!-- Round-trip Split Screen Layout -->
  <div class="min-h-screen bg-white" data-controller="round-trip-selector coming-soon">
    <!-- Header -->
    <div class="sticky top-0 z-50 bg-white border-b border-gray-200">
      <!-- Top Bar -->
      <div class="flex items-center justify-between px-4 py-3">
        <button onclick="history.back()" class="flex items-center gap-2">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
          </svg>
        </button>

        <div class="flex-1 text-center">
          <div class="text-lg font-bold">
            <%= @departure_city %> ‚áÑ <%= @destination_city %>
          </div>
          <div class="text-xs text-gray-500 mt-1">
            <%= I18n.l(@date, format: "%mÊúà%dÊó•") %> - <%= I18n.l(@return_date, format: "%mÊúà%dÊó•") %>
          </div>
        </div>

        <div class="flex items-center gap-3">
          <button class="text-sm text-primary" data-action="click->coming-soon#show">‰Ωé‰ª∑ÊèêÈÜí</button>
          <button data-action="click->coming-soon#show">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"/>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Split Screen Flight Lists -->
    <div class="flex" style="height: calc(100vh - 140px);">
      <!-- Outbound Flights (Left) -->
      <div class="w-1/2 border-r border-gray-200 overflow-y-auto">
        <!-- Outbound Header -->
        <div class="sticky top-0 bg-yellow-100 px-3 py-2 flex items-center gap-2 z-10">
          <svg class="w-5 h-5 text-yellow-600" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"/>
          </svg>
          <div>
            <div class="text-sm font-bold">ÂéªÁ®ã</div>
            <div class="text-xs text-gray-600"><%= @departure_city %> ‚Üí <%= @destination_city %></div>
          </div>
        </div>

        <!-- Outbound Date Selector -->
        <div class="flex gap-1 px-2 py-2 overflow-x-auto no-scrollbar bg-white border-b border-gray-100">
          <% @date_prices.each do |date_info| %>
            <%= link_to search_flights_path(departure_city: @departure_city, destination_city: @destination_city, date: date_info[:date], trip_type: @trip_type, return_date: @return_date), 
                data: { turbo: false },
                class: "flex-shrink-0 px-2 py-1 rounded text-center text-xs #{date_info[:is_today] ? 'bg-yellow-400 text-gray-900' : 'bg-gray-100 text-gray-600'}" do %>
              <div class="font-bold"><%= I18n.l(date_info[:date], format: "%m-%d") %></div>
              <div class="text-xs <%= date_info[:is_today] ? 'text-gray-700' : 'text-gray-500' %>"><%= date_info[:weekday] %></div>
            <% end %>
          <% end %>
        </div>

        <!-- Outbound Flight Cards -->
        <div class="p-2 space-y-2">
          <% @flights.each do |flight| %>
            <div data-round-trip-selector-target="outboundFlight" 
                 data-flight-id="<%= flight.id %>" 
                 data-price="<%= flight.final_price %>"
                 data-action="click->round-trip-selector#selectOutbound"
                 class="bg-white border border-gray-200 rounded-lg p-3 cursor-pointer hover:shadow-md transition-all">
              
              <!-- Time and Route -->
              <div class="flex items-center justify-between mb-2">
                <div>
                  <div class="text-2xl font-bold"><%= flight.departure_time_formatted %></div>
                  <div class="text-xs text-gray-500"><%= flight.departure_airport %></div>
                </div>
                
                <div class="flex-1 px-2">
                  <div class="border-t border-gray-300 relative">
                    <svg class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-3 h-3 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"/>
                    </svg>
                  </div>
                </div>
                
                <div class="text-right">
                  <div class="text-2xl font-bold"><%= flight.arrival_time_formatted %></div>
                  <div class="text-xs text-gray-500"><%= flight.arrival_airport %></div>
                </div>
              </div>

              <!-- Airline and Price -->
              <div class="flex items-center justify-between">
                <div class="text-xs text-gray-600">
                  <span class="text-red-500"><%= flight.airline %></span> <%= flight.flight_number %>(‰∏≠)
                </div>
                <div class="text-right">
                  <div class="text-lg font-bold text-red-500">¬•<%= flight.final_price.to_i %></div>
                  <div class="text-xs text-gray-400">Ëµ∑</div>
                </div>
              </div>

              <!-- Tags -->
              <% if flight.discount_price > 0 %>
                <div class="mt-2">
                  <span class="text-xs px-2 py-0.5 bg-red-50 text-red-600 rounded">Â∞ëÈáè¬•<%= flight.discount_price.to_i %></span>
                </div>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>

      <!-- Return Flights (Right) -->
      <div class="w-1/2 overflow-y-auto">
        <!-- Return Header -->
        <div class="sticky top-0 bg-blue-100 px-3 py-2 flex items-center gap-2 z-10">
          <svg class="w-5 h-5 text-blue-600 transform rotate-180" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"/>
          </svg>
          <div>
            <div class="text-sm font-bold">ËøîÁ®ã</div>
            <div class="text-xs text-gray-600"><%= @destination_city %> ‚Üí <%= @departure_city %></div>
          </div>
        </div>

        <!-- Return Date Selector -->
        <div class="flex gap-1 px-2 py-2 overflow-x-auto no-scrollbar bg-white border-b border-gray-100">
          <% @return_date_prices.each do |date_info| %>
            <%= link_to search_flights_path(departure_city: @departure_city, destination_city: @destination_city, date: @date, trip_type: @trip_type, return_date: date_info[:date]), 
                data: { turbo: false },
                class: "flex-shrink-0 px-2 py-1 rounded text-center text-xs #{date_info[:is_today] ? 'bg-yellow-400 text-gray-900' : 'bg-gray-100 text-gray-600'}" do %>
              <div class="font-bold"><%= I18n.l(date_info[:date], format: "%m-%d") %></div>
              <div class="text-xs <%= date_info[:is_today] ? 'text-gray-700' : 'text-gray-500' %>"><%= date_info[:weekday] %></div>
            <% end %>
          <% end %>
        </div>

        <!-- Return Flight Cards -->
        <div class="p-2 space-y-2">
          <% @return_flights.each do |flight| %>
            <div data-round-trip-selector-target="returnFlight" 
                 data-flight-id="<%= flight.id %>" 
                 data-price="<%= flight.final_price %>"
                 data-action="click->round-trip-selector#selectReturn"
                 class="bg-white border border-gray-200 rounded-lg p-3 cursor-pointer hover:shadow-md transition-all">
              
              <!-- Time and Route -->
              <div class="flex items-center justify-between mb-2">
                <div>
                  <div class="text-2xl font-bold"><%= flight.departure_time_formatted %></div>
                  <div class="text-xs text-gray-500"><%= flight.departure_airport %></div>
                </div>
                
                <div class="flex-1 px-2">
                  <div class="border-t border-gray-300 relative">
                    <svg class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-3 h-3 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"/>
                    </svg>
                  </div>
                </div>
                
                <div class="text-right">
                  <div class="text-2xl font-bold"><%= flight.arrival_time_formatted %></div>
                  <div class="text-xs text-gray-500"><%= flight.arrival_airport %></div>
                </div>
              </div>

              <!-- Airline and Price -->
              <div class="flex items-center justify-between">
                <div class="text-xs text-gray-600">
                  <span class="text-red-500"><%= flight.airline %></span> <%= flight.flight_number %>(‰∏≠)
                </div>
                <div class="text-right">
                  <div class="text-lg font-bold text-red-500">¬•<%= flight.final_price.to_i %></div>
                  <div class="text-xs text-gray-400">Ëµ∑</div>
                </div>
              </div>

              <!-- Tags -->
              <% if flight.discount_price > 0 %>
                <div class="mt-2">
                  <span class="text-xs px-2 py-0.5 bg-red-50 text-red-600 rounded">Â∞ëÈáè¬•<%= flight.discount_price.to_i %></span>
                </div>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Bottom Submit Bar -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-3 z-50">
      <%= form_with url: new_booking_path, method: :get, data: { turbo: false }, class: "flex items-center justify-between gap-3" do |f| %>
        <%= f.hidden_field :flight_id, value: "", data: { round_trip_selector_target: "selectedOutboundId" } %>
        <%= f.hidden_field :return_flight_id, value: "", data: { round_trip_selector_target: "selectedReturnId" } %>
        <%= f.hidden_field :trip_type, value: "round_trip" %>
        
        <div class="flex-1">
          <div class="text-xs text-gray-500">ÊÄª‰ª∑</div>
          <div class="text-xl font-bold text-red-500" data-round-trip-selector-target="totalPrice">
            ËØ∑ÈÄâÊã©ÂéªÁ®ãÂíåËøîÁ®ãËà™Áè≠
          </div>
        </div>
        
        <button type="submit" 
                data-round-trip-selector-target="submitButton"
                data-action="click->round-trip-selector#submit"
                disabled
                class="px-8 py-3 bg-red-500 text-white rounded-lg font-bold opacity-50 cursor-not-allowed">
          ‰∏ã‰∏ÄÊ≠•
        </button>
      <% end %>
    </div>
  </div>

<% else %>
  <!-- Original Single-Way Layout -->
  <div class="min-h-screen bg-white" data-controller="flight-search coming-soon" data-flight-search-departure-value="<%= @departure_city %>" data-flight-search-destination-value="<%= @destination_city %>" data-flight-search-date-value="<%= @date.to_s %>">
    <!-- Header -->
    <div class="sticky top-0 z-50 bg-white border-b border-gray-200">
      <!-- Top Bar -->
      <div class="flex items-center justify-between px-4 py-3">
        <button onclick="history.back()" class="flex items-center gap-2">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
          </svg>
        </button>

        <div class="flex-1 text-center">
          <div class="text-lg font-bold">
            <%= @departure_city %> ‚Üí <%= @destination_city %>
            <svg class="inline w-4 h-4 ml-1" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
            </svg>
          </div>
        </div>

        <div class="flex items-center gap-3">
          <button class="text-sm text-primary" data-action="click->coming-soon#show">‰Ωé‰ª∑ÊèêÈÜí</button>
          <button data-action="click->coming-soon#show">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Notice Banner -->
      <button class="mx-4 mb-2 px-3 py-2 rounded-lg bg-blue-50 flex items-center justify-between text-left" data-action="click->coming-soon#show">
        <div class="flex items-center gap-2">
          <svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
          </svg>
          <span class="text-xs text-blue-700">‰º§ÊÆãÂÜõ‰∫∫/Ë≠¶ÂØü‰ºòÊÉ†Ë¥≠Á•®ÂÖ¨Âëä</span>
        </div>
        <svg class="w-4 h-4 text-blue-700" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
        </svg>
      </button>

      <!-- Date Selector -->
      <div class="flex gap-2 px-4 pb-3 overflow-x-auto no-scrollbar">
        <% @date_prices.each do |date_info| %>
          <%= link_to search_flights_path(departure_city: @departure_city, destination_city: @destination_city, date: date_info[:date], trip_type: @trip_type, return_date: @return_date), 
              data: { turbo: false },
              class: "flex-shrink-0 px-4 py-2 rounded-lg text-center #{date_info[:is_today] ? 'bg-yellow-400' : 'bg-gray-100'}" do %>
            <div class="text-xs <%= date_info[:is_today] ? 'text-gray-800' : 'text-gray-600' %>"><%= date_info[:weekday] %></div>
            <div class="text-lg font-bold <%= date_info[:is_today] ? 'text-gray-900' : 'text-gray-800' %>">
              <%= I18n.l(date_info[:date], format: "%m-%d") %>
            </div>
            <div class="text-xs <%= date_info[:is_today] ? 'text-red-600' : 'text-gray-600' %>">¬•<%= date_info[:price] %></div>
          <% end %>
        <% end %>
        <button class="flex-shrink-0 w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center">
          <svg class="w-5 h-5 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>

      <!-- Promotion Banner -->
      <button class="mx-4 mb-3 px-3 py-2 rounded-lg flex items-center justify-between text-left" style="background: linear-gradient(90deg, #FFF4E6 0%, #FFE8CC 100%);" data-action="click->coming-soon#show">
        <div class="flex items-center gap-2">
          <span class="text-sm font-bold" style="color: #FF6B35;">Êú∫ÈÖíËÅîËÆ¢Êõ¥‰ºòÊÉ†</span>
          <span class="text-xs text-gray-600">Ë¥≠‰π∞ÂõΩÂÜÖÊú∫Á•®Á´ãÂáè<span class="font-bold text-red-500">20~30ÂÖÉ</span></span>
        </div>
        <svg class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
        </svg>
      </button>

      <!-- Filter Tags -->
      <div class="flex gap-2 px-4 pb-3 overflow-x-auto no-scrollbar">
        <button class="flex-shrink-0 px-3 py-1.5 rounded-full border border-gray-300 text-sm flex items-center gap-1" data-action="click->coming-soon#show">
          Á≠õÈÄâ
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z"/>
          </svg>
        </button>
        <button class="flex-shrink-0 px-3 py-1.5 rounded-full border border-gray-300 text-sm whitespace-nowrap" data-action="click->coming-soon#show">Âè™ÁúãÁõ¥È£û</button>
        <button class="flex-shrink-0 px-3 py-1.5 rounded-full border border-gray-300 text-sm whitespace-nowrap" data-action="click->coming-soon#show">‰∏ãÂçàÂá∫Âèë</button>
        <button class="flex-shrink-0 px-3 py-1.5 rounded-full border border-gray-300 text-sm flex items-center gap-1" data-action="click->coming-soon#show">
          Êú∫Âú∫
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
          </svg>
        </button>
        <button class="flex-shrink-0 px-3 py-1.5 rounded-full border border-gray-300 text-sm whitespace-nowrap" data-action="click->coming-soon#show">Â§ßÂûãÊú∫</button>
      </div>
    </div>

    <!-- Flight List -->
    <div class="px-4 py-3 space-y-3">
      <% @flights.each do |flight| %>
        <%= link_to flight_path(flight), data: { turbo: false }, class: "block" do %>
          <div class="bg-white border border-gray-200 rounded-xl p-4 hover:shadow-lg transition-shadow">
          <!-- Flight Time and Info -->
          <div class="flex items-start justify-between mb-3">
            <div class="flex-1">
              <!-- Departure Time -->
              <div class="text-3xl font-bold mb-1"><%= flight.departure_time_formatted %></div>
              <div class="text-sm text-gray-600 mb-2"><%= flight.departure_airport %></div>
              
              <!-- Airline Info -->
              <div class="flex items-center gap-2 text-sm">
                <span class="text-red-500 flex items-center gap-1">
                  <% if flight.airline == '‰∏úËà™' %>
                    ‚úàÔ∏è
                  <% elsif flight.airline == 'Êµ∑Ëà™' %>
                    üõ´
                  <% elsif flight.airline == 'Â∑ùËà™' %>
                    üõ©Ô∏è
                  <% elsif flight.airline == 'ÂçóËà™' %>
                    üõ¨
                  <% else %>
                    ‚úàÔ∏è
                  <% end %>
                  <%= flight.airline %><%= flight.flight_number %>
                </span>
                <span class="text-gray-600"><%= flight.aircraft_type %></span>
              </div>
            </div>

            <!-- Flight Duration Line -->
            <div class="flex-1 flex flex-col items-center px-4">
              <div class="w-full border-t-2 border-gray-300 relative my-6">
                <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2">
                  <svg class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"/>
                  </svg>
                </div>
              </div>
            </div>

            <!-- Arrival Time -->
            <div class="flex-1 text-right">
              <div class="text-3xl font-bold mb-1"><%= flight.arrival_time_formatted %></div>
              <div class="text-sm text-gray-600 mb-2"><%= flight.arrival_airport %></div>
              
              <!-- Price -->
              <div>
                <% if flight.discount_price > 0 %>
                  <div class="text-xs text-gray-400 line-through">¬•<%= flight.price.to_i %></div>
                <% end %>
                <div class="text-2xl font-bold text-red-500">¬•<%= flight.final_price.to_i %></div>
              </div>
            </div>
          </div>

          <!-- Tags and Benefits -->
          <div class="flex flex-wrap gap-2 mb-3">
            <% if flight.discount_price > 0 %>
              <span class="px-2 py-1 bg-red-50 text-red-600 text-xs rounded">ËøîÁé∞Èáë ÈÉ®ÂàÜËøî¬•<%= flight.discount_price.to_i %></span>
            <% end %>
            <% if rand < 0.5 %>
              <span class="px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded flex items-center gap-1">
                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd"/>
                  <path d="M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"/>
                </svg>
                Âê´ÂÖ±‰∫´
              </span>
            <% end %>
            <% if rand < 0.3 %>
              <span class="px-2 py-1 bg-green-50 text-green-600 text-xs rounded">Á≤æÂìÅÂø´Á∫ø</span>
            <% end %>
          </div>

          <!-- Additional Info -->
          <div class="flex items-center justify-between text-xs text-gray-500">
            <div class="flex items-center gap-4">
              <span>ÁªèÊµéËà±<%= flight.seat_class == 'economy' ? '1.5Êäò' : '3Êäò' %></span>
              <% if flight.available_seats < 50 %>
                <span class="text-red-500"><%= flight.available_seats %>È°πËá≥È´òÂáè¬•<%= (rand(20..100)) %></span>
              <% end %>
            </div>
            <% if rand < 0.4 %>
              <button class="text-blue-500 flex items-center gap-1">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                </svg>
                ‰ª∑Ê†ºË∂ãÂäø
              </button>
            <% end %>
          </div>

          <!-- Bottom Tags -->
          <% if flight == @flights.first %>
            <div class="mt-3 pt-3 border-t border-gray-100">
              <div class="text-xs text-blue-600">ÂéÜÂè≤‰Ωé‰ª∑</div>
            </div>
          <% end %>
          </div>
        <% end %>
      <% end %>

      <% if @flights.empty? %>
        <div class="text-center py-12">
          <div class="text-gray-400 text-lg mb-2">ÊöÇÊó†Ëà™Áè≠</div>
          <div class="text-gray-500 text-sm">ËØ∑Â∞ùËØïÂÖ∂‰ªñÊó•Êúü</div>
        </div>
      <% end %>
    </div>

    <!-- Bottom Navigation -->
    <div class="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white border-t border-gray-200 px-4 py-3" data-controller="coming-soon">
      <div class="flex items-center justify-around">
        <button class="flex flex-col items-center gap-1" data-action="click->coming-soon#show">
          <svg class="w-6 h-6 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z"/>
          </svg>
          <span class="text-xs text-gray-600">Ëµ∑È£ûÊó©‰∏ÄÊôö</span>
        </button>
        
        <button class="flex flex-col items-center gap-1 border-b-2 border-black" data-action="click->coming-soon#show">
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
            <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"/>
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"/>
          </svg>
          <span class="text-xs font-bold">‰ª∑Ê†ºÊéíÂ∫è</span>
        </button>
        
        <button class="flex flex-col items-center gap-1" data-action="click->coming-soon#show">
          <svg class="w-6 h-6 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
          </svg>
          <span class="text-xs text-gray-600">ÊÉ†Âêé‰ª∑</span>
        </button>
      </div>
    </div>
  </div>
<% end %>
