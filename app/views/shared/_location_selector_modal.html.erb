<!-- Location Selector Modal -->
<div data-location-selector-target="modal"
     class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden"
     data-action="click->location-selector#closeModal">
  
  <!-- Modal Content -->
  <div class="fixed bottom-0 left-0 right-0 bg-surface rounded-t-3xl max-h-[80vh] flex flex-col"
       data-action="click->location-selector#stopPropagation">
    
    <!-- Header -->
    <div class="flex items-center justify-between px-6 py-4 border-b border-border">
      <button 
        type="button"
        data-action="click->location-selector#closeModal"
        class="text-text-secondary">
        取消
      </button>
      <h3 class="text-lg font-bold text-text-primary">选择地点</h3>
      <button 
        type="button"
        data-action="click->location-selector#confirm"
        class="text-primary font-semibold">
        确定
      </button>
    </div>

    <!-- Search Input -->
    <div class="px-6 py-4 border-b border-border">
      <div class="relative">
        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
        <input 
          type="text"
          data-location-selector-target="searchInput"
          data-action="input->location-selector#search"
          placeholder="搜索地点或地标"
          class="w-full pl-10 pr-4 py-2 border border-border rounded-full focus:outline-none focus:ring-2 focus:ring-primary text-sm">
      </div>
    </div>

    <!-- Location List (Dynamically populated) -->
    <div class="flex-1 overflow-y-auto px-6 py-4" data-location-selector-target="locationList">
      <!-- Locations will be dynamically loaded here -->
      <div class="text-center py-8 text-text-muted">
        <p>加载中...</p>
      </div>
    </div>

    <!-- Recent Locations (if any) -->
    <div class="mb-4 px-6 hidden" data-location-selector-target="recentSection">
      <h4 class="text-xs text-text-muted mb-2">最近使用</h4>
      <div class="space-y-2" data-location-selector-target="recentList">
        <!-- Recent locations will be dynamically added here -->
      </div>
    </div>
  </div>
</div>
